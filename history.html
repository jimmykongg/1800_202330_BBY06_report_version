<!DOCTYPE html>
<html lang="en">

<head>
  <title>LocalEco Â· Recycling History</title>
  <meta name="comp1800 template" content="My 1800 App">

  <!-- Required meta tags -->

  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <!------------------------------------------>
  <!-- Bootstrap Library CSS JS CDN go here -->
  <!------------------------------------------>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous">
    </script>

  <!-------------------------------------------------------->
  <!-- Firebase 8 Library related CSS, JS, JQuery go here -->
  <!-------------------------------------------------------->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-firestore.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-auth.js"></script>
  <script src="https://www.gstatic.com/firebasejs/ui/4.8.1/firebase-ui-auth.js"></script>
  <link type="text/css" rel="stylesheet" href="https://www.gstatic.com/firebasejs/ui/4.8.1/firebase-ui-auth.css" />

  <!-------------------------------------------->
  <!-- Other libraries and styles of your own -->
  <!-------------------------------------------->
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
  <link
    href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200"
    rel="stylesheet" />

  <link rel="stylesheet" href="./styles/style.css">

</head>

<body>
  <!------------------------------>
  <!-- Your HTML Layout go here -->
  <!------------------------------>

  <div class="py-3 my-4 text-center" id="historyCardGroup">
    <h1 class="display-4 fw-bold" id="history-page-title"><span id="name-goes-here"></span>'s Recycling History</h1>

    <div id="btns-group">
      <div class="option" id="sort-btn">
        <p class="option-text">Sorted by: </p>
        <button class="btn btn-secondary btn-sm dropdown-toggle bg-success option-btn" id="sort-options" type="button"
          data-bs-toggle="dropdown" aria-expanded="false">
          Sorted options
        </button>
        <ul class="dropdown-menu option-menu">
          <li onclick="DisplaySortedCards('street', 'asc')">Street Name (A-Z)</li>
          <li onclick="DisplaySortedCards('street', 'desc')">Street Name (Z-A)</li>
          <li onclick="DisplaySortedCards('last_visited', 'desc')">Most recently</li>
        </ul>
      </div>

      <div class="option" id="time-btn">
        <p class="option-text">Shown: </p>
        <button class="btn btn-secondary btn-sm dropdown-toggle bg-success option-btn" id="show-options" type="button"
          data-bs-toggle="dropdown" aria-expanded="false">
          Number of record
        </button>
        <ul class="dropdown-menu option-menu">
          <li onclick="limitCards(2)">2</li>
          <li onclick="limitCards(5)">5</li>
          <li onclick="limitCards(20)">20</li>
        </ul>
      </div>

      <!-- Button trigger modal -->
      <div id="clear-btn">
        <button type="button" class="btn btn-primary my-2" data-bs-toggle="modal" data-bs-target="#change-profile">
          Clear History
        </button>
      </div>

      <!-- Modal -->
      <div class="modal fade" id="change-profile" tabindex="-1" aria-labelledby="change-profile" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered">
          <div class="modal-content">
            <div class="modal-header">
              <h5 class="modal-title" id="change-profile-label">Clear Recycling History</h5>
              <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">

              <!-- User input form to change profile-->
              <div class="container">
                <p>History will be cleared from your account. Once cleared, it cannot be recovered.</p>
              </div>

            </div>
            <div class="modal-footer modal-clear">
              <button onclick="clearHistory()" type="button" class="btn btn-secondary" id="clear-history"
                data-bs-dismiss="modal">Clear History</button>
              <button type="button" class="btn btn-primary" data-bs-dismiss="modal" id="save-btn">Cancel</button>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div id="cardGroup-goes-here"></div>

    <!-- Templates for general use, not displayed -->
    <template id="historyTemplate">
      <div class="card history-card">
        <div class="card-body">
          <h5 class="card-title">Street name</h5>
        </div>
        <div class="card-footer text-muted card-last-visited">
          ... ago
        </div>
      </div>
    </template>

    <nav id="footerPlaceholder"></nav>

    <!-- <footer>
    <div class="navbar justify-content-between fixed-bottom" id="navbar">
      <div class="container">
        <div class="center">
          <a href="main.html">
            <span class="material-icons md-60">home</span>
            <p class="icon-text">Home</p>
          </a>
        </div>

        <div class="center">
          <a href="#">
            <span class="material-icons md-60">search</span>
            <p class="icon-text">Search</p>
          </a>
        </div>

        <div class="center">
          <a href="#">
            <span class="material-icons md-60">feed</span>
            <p class="icon-text">News</p>
          </a>
        </div>

        <div class="center">
          <a href="#">
            <span class="material-icons md-60">person</span>
            <p class="icon-text">Account</p>
          </a>
        </div>
      </div>
    </div>
  </footer> -->
    <!---------------------------------------------->
    <!-- Your own JavaScript functions go here    -->
    <!---------------------------------------------->
    <script src="./scripts/firebaseAPI_BBY06.js"></script>
    <script src="./scripts/skeleton.js"></script>
    <script src="./scripts/history.js"></script>

</body>

</html>